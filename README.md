# reviewproject-back
리뷰시스템프로젝트 백엔드 테스트
use simpleDb_test;
기본 키워드 검색 
SELECT id, name, keywords
FROM restaurants
WHERE name LIKE '%가성비%'
   OR keywords LIKE '%가성비%';

위치기반으로 반경2km안에 있는 식당찾기 
SELECT id, name, latitude, longitude
FROM restaurants
WHERE ST_Distance_Sphere(Point(longitude, latitude), Point(126.9780, 37.5665)) <= 2000;


SELECT * from restaurants;
CREATE database simpleDb_test;
use simpleDb_test;


-- Restaurant 테이블에 더미 데이터 삽입
INSERT INTO restaurants (email, name, rating, review, category, latitude, longitude, keywords, reviewer) VALUES
('user1@example.com', '한식당1', 4.5, '아주 맛있어요!', '한식', 37.5665, 126.9780, '깨끗함,서비스굿', '리뷰어1'),
('user2@example.com', '양식당1', 3.8, '가성비 좋습니다.', '양식', 37.5700, 126.9850, '가성비,분위기좋음', '리뷰어2'),
('user3@example.com', '한식당2', 4.7, '정말 훌륭해요!', '한식', 37.5650, 126.9900, '맛있음,친절함', '리뷰어3'),
('user4@example.com', '양식당2', 4.2, '가족들과 즐기기 좋습니다.', '양식', 37.5670, 126.9750, '조용함,분위기좋음', '리뷰어4'),
('user5@example.com', '한식당3', 3.9, '전통적인 맛!', '한식', 37.5640, 126.9730, '전통적,가성비', '리뷰어5'),
('user6@example.com', '양식당3', 4.6, '로맨틱한 분위기!', '양식', 37.5630, 126.9720, '분위기좋음,서비스굿', '리뷰어6'),
('user7@example.com', '한식당4', 4.1, '매우 친절합니다.', '한식', 37.5620, 126.9740, '친절함,서비스굿', '리뷰어7'),
('user8@example.com', '양식당4', 4.4, '요리가 신선해요.', '양식', 37.5610, 126.9760, '신선함,맛있음', '리뷰어8'),
('user9@example.com', '한식당5', 4.0, '집밥 같은 느낌이에요.', '한식', 37.5600, 126.9770, '전통적,편안함', '리뷰어9'),
('user10@example.com', '양식당5', 3.7, '조금 비싸요.', '양식', 37.5590, 126.9790, '비쌈,분위기좋음', '리뷰어10'),
('user11@example.com', '한식당6', 4.3, '맛있는 국밥!', '한식', 37.5580, 126.9800, '국밥,매운맛', '리뷰어11'),
('user12@example.com', '양식당6', 4.0, '스테이크 맛있어요.', '양식', 37.5570, 126.9810, '고기,저녁', '리뷰어12'),
('user13@example.com', '한식당7', 4.8, '정말 대박이에요!', '한식', 37.5560, 126.9820, '매운맛,친절함', '리뷰어13'),
('user14@example.com', '양식당7', 4.2, '양도 많고 맛있어요.', '양식', 37.5550, 126.9830, '양 많음,가성비', '리뷰어14'),
('user15@example.com', '한식당8', 3.5, '조금 아쉬워요.', '한식', 37.5540, 126.9840, '가성비,맛없음', '리뷰어15'),
('user16@example.com', '양식당8', 4.1, '분위기가 좋아요.', '양식', 37.5530, 126.9850, '분위기,맛있음', '리뷰어16'),
('user17@example.com', '한식당9', 4.4, '맛있어요.', '한식', 37.5520, 126.9860, '맛있음,가성비', '리뷰어17'),
('user18@example.com', '양식당9', 4.6, '분위기가 로맨틱해요.', '양식', 37.5510, 126.9870, '로맨틱,서비스', '리뷰어18'),
('user19@example.com', '한식당10', 3.9, '한정식이 맛있어요.', '한식', 37.5500, 126.9880, '전통,서비스', '리뷰어19'),
('user20@example.com', '양식당10', 4.7, '파스타 최고!', '양식', 37.5490, 126.9890, '이탈리안,고급', '리뷰어20');

-- Mypage 테이블에 더미 데이터 삽입
INSERT INTO mypage (restaurant_id, reviewer, keywords, review) VALUES
(1, '리뷰어1', '깨끗함,서비스굿', '정말 맛있었어요.'),
(2, '리뷰어2', '가성비,분위기좋음', '좋은 가성비에 훌륭한 분위기!'),
(3, '리뷰어3', '맛있음,친절함', '너무 친절한 서비스에 맛도 좋습니다.'),
(4, '리뷰어4', '조용함,분위기좋음', '가족과 함께 오기 좋습니다.'),
(5, '리뷰어5', '전통적,가성비', '전통적인 한식 맛을 느낄 수 있었습니다.'),
(6, '리뷰어6', '분위기좋음,서비스굿', '로맨틱한 분위기에 서비스도 최고입니다.'),
(7, '리뷰어7', '친절함,서비스굿', '정말 친절한 서비스!'),
(8, '리뷰어8', '신선함,맛있음', '신선한 재료로 만든 맛있는 요리!'),
(9, '리뷰어9', '전통적,편안함', '집밥처럼 편안한 느낌이었어요.'),
(10, '리뷰어10', '비쌈,분위기좋음', '비쌌지만 분위기 좋은 곳입니다.'),
-- (10개 추가)
(11, '리뷰어11', '국밥,매운맛', '매운 국밥 최고!'),
(12, '리뷰어12', '고기,저녁', '저녁에 고기 먹기 딱 좋습니다.'),
(13, '리뷰어13', '매운맛,친절함', '매운 음식 좋아하시면 강추!'),
(14, '리뷰어14', '양 많음,가성비', '양이 많고 가성비가 좋아요.'),
(15, '리뷰어15', '가성비,맛없음', '가성비는 좋지만 맛은 아쉬웠어요.'),
(16, '리뷰어16', '분위기,맛있음', '분위기도 좋고 맛도 좋았습니다.'),
(17, '리뷰어17', '맛있음,가성비', '맛있고 가성비도 훌륭했습니다.'),
(18, '리뷰어18', '로맨틱,서비스', '서비스도 좋고 분위기도 로맨틱합니다.'),
(19, '리뷰어19', '전통,서비스', '전통적인 한정식, 서비스도 훌륭.'),
(20, '리뷰어20', '이탈리안,고급', '고급스러운 이탈리안 파스타!');

-- PopularKeyword 테이블에 더미 데이터 삽입
INSERT INTO popular_keyword (restaurant_id, keyword, keyword_count) VALUES
(1, '가성비', 15),
(2, '분위기', 10),
(3, '맛있음', 18),
(4, '친절함', 12),
(5, '전통', 8),
(6, '서비스', 20),
(7, '로맨틱', 7),
(8, '신선함', 6),
(9, '편안함', 5),
(10, '고급', 9),
-- (10개 추가)
(11, '매운맛', 11),
(12, '고기', 13),
(13, '한정식', 6),
(14, '양 많음', 4),
(15, '가성비', 8),
(16, '분위기', 9),
(17, '맛있음', 14),
(18, '서비스', 10),
(19, '전통', 8),
(20, '이탈리안', 7);

INSERT INTO users (email, password, gender) VALUES 
('user1@example.com', 'password1', 'male'),
('user2@example.com', 'password2', 'female'),
('user3@example.com', 'password3', 'male'),
('user4@example.com', 'password4', 'female'),
('user5@example.com', 'password5', 'male');





SELECT * from myfavorite;
SELECT * from mypage;
SELECT * from restaurants;
 //http://localhost:8080/api/restaurants/keyword-search?keyword=깨끗함 해당 키워드 검색된 식당 조회
 http://localhost:8080/api/restaurants/mypage/favorites (POST) {
  "email": "user1@example.com",
  "restaurantId": 2
}   -->이미 찜 목록에 존재하는 식당입니다. 또는 찜 추가 


